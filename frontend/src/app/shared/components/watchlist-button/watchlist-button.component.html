<button
  type="button"
  (click)="toggleWatchlist($event)"
  [attr.aria-label]="isInWatchlist ? 'Remove from watchlist' : 'Add to watchlist'"
  [class]="sizeClasses"
  class="watchlist-button relative flex items-center justify-center rounded-full transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 focus:ring-offset-gray-900"
  [@starAnimation]="animationState">
  
  <!-- Star Icon -->
  <svg 
    [attr.width]="iconSize" 
    [attr.height]="iconSize" 
    viewBox="0 0 24 24" 
    fill="none" 
    xmlns="http://www.w3.org/2000/svg"
    class="star-icon">
    <path 
      d="M12 2L15.09 8.26L22 9.27L17 14.14L18.18 21.02L12 17.77L5.82 21.02L7 14.14L2 9.27L8.91 8.26L12 2Z" 
      [attr.fill]="isInWatchlist ? 'currentColor' : 'none'"
      [attr.stroke]="isInWatchlist ? 'currentColor' : 'currentColor'"
      stroke-width="2"
      stroke-linecap="round"
      stroke-linejoin="round"
      class="transition-all duration-200" />
  </svg>

  <!-- Optional Label -->
  @if (showLabel) {
    <span class="ml-2 text-sm font-medium">
      {{ isInWatchlist ? 'In Watchlist' : 'Add to Watchlist' }}
    </span>
  }

  <!-- Glow effect when active -->
  @if (isInWatchlist) {
    <div class="absolute inset-0 rounded-full bg-primary-500/20 blur-lg"></div>
  }
</button>
